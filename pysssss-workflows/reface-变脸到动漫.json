{"last_node_id": 50, "last_link_id": 158, "nodes": [{"id": 5, "type": "VAELoader", "pos": [14.319553378174977, 184.42888630815023], "size": {"0": 315, "1": 58}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "VAE", "type": "VAE", "links": [5], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["sdxl_vae.safetensors"], "color": "#323", "bgcolor": "#535", "shape": 1}, {"id": 6, "type": "Anything Everywhere3", "pos": [1272.579010698239, 118.92894777362831], "size": {"0": 180, "1": 70}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "MODEL", "type": "*", "link": 102, "color_on": "#B39DDB"}, {"name": "CLIP", "type": "*", "link": 4, "color_on": "#FFD500"}, {"name": "VAE", "type": "*", "link": 5, "color_on": "#FF6E6E"}], "properties": {"Node name for S&R": "Anything Everywhere3", "group_restricted": false, "color_restricted": false}, "widgets_values": [], "color": "#998119", "bgcolor": "#856d05", "shape": 1}, {"id": 45, "type": "Note", "pos": [0, -150], "size": {"0": 510, "1": 90}, "flags": {}, "order": 1, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Hyper-SDXL = https://huggingface.co/ByteDance/Hyper-SD\nIP Adapter = https://huggingface.co/h94/IP-Adapter\nPhotomaker = https://huggingface.co/TencentARC/PhotoMaker"], "color": "#222", "bgcolor": "#000", "shape": 1}, {"id": 8, "type": "VAEDecode", "pos": [1118.6942754067663, 362.4545371315698], "size": {"0": 140, "1": 50}, "flags": {"collapsed": true}, "order": 23, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 6}, {"name": "vae", "type": "VAE", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [134], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}, "color": "#332922", "bgcolor": "#593930", "shape": 1}, {"id": 35, "type": "PerturbedAttentionGuidance", "pos": [960, 40], "size": {"0": 220, "1": 60}, "flags": {}, "order": 19, "mode": 4, "inputs": [{"name": "model", "type": "MODEL", "link": 105}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [102], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "PerturbedAttentionGuidance"}, "widgets_values": [1.4000000000000001], "color": "#8268b1", "bgcolor": "#6e549d", "shape": 1}, {"id": 44, "type": "Note", "pos": [960, 140], "size": {"0": 220, "1": 60}, "flags": {}, "order": 2, "mode": 4, "properties": {"text": ""}, "widgets_values": ["Slower\nMay need lower CFG (~4)"], "color": "#432", "bgcolor": "#653", "shape": 1}, {"id": 10, "type": "IPAdapterModelLoader", "pos": [20, 1080], "size": {"0": 410, "1": 60}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "IPADAPTER", "type": "IPADAPTER", "links": [9], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "IPAdapterModelLoader"}, "widgets_values": ["ip-adapter-plus-face_sdxl_vit-h.safetensors"], "color": "#323", "bgcolor": "#535", "shape": 1}, {"id": 11, "type": "CLIPVisionLoader", "pos": [20, 1200], "size": {"0": 410, "1": 60}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "CLIP_VISION", "type": "CLIP_VISION", "links": [11], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPVisionLoader"}, "widgets_values": ["ip_adapter_sd15/model.safetensors"], "color": "#323", "bgcolor": "#535", "shape": 1}, {"id": 13, "type": "PrepImageForClipVision", "pos": [20, 1320], "size": {"0": 410, "1": 110}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 129}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [10], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "PrepImageForClipVision"}, "widgets_values": ["LANCZOS", "center", 0], "color": "#628eb2", "bgcolor": "#4e7a9e", "shape": 1}, {"id": 50, "type": "SaveImage", "pos": [1278.6942754067663, 362.4545371315698], "size": {"0": 810, "1": 900}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 134}], "properties": {}, "widgets_values": ["Refacer"], "color": "#222", "bgcolor": "#000", "shape": 1}, {"id": 49, "type": "PreviewImage", "pos": [800, 1140], "size": {"0": 210, "1": 250}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 127}], "properties": {"Node name for S&R": "PreviewImage"}, "color": "#222", "bgcolor": "#000", "shape": 1}, {"id": 46, "type": "Note", "pos": [1580, 30], "size": {"0": 530, "1": 200}, "flags": {}, "order": 5, "mode": 0, "properties": {"text": ""}, "widgets_values": ["== Nerdy Rodent's Refacer! ==\nJust a little bit of fun with faces!\n\nThis version's defaults are designed for speed to turn a non-real face\ninto more realistic version - such as anime character to a photo.\n\nIf you input a realistic face, the output will be similar.\n\nIf you don't input a face image, the output will only slightly resemble the input.\n\n"], "color": "#222", "bgcolor": "#000", "shape": 1}, {"id": 47, "type": "Note", "pos": [798.6942754067666, 742.4545371315697], "size": {"0": 470, "1": 350}, "flags": {}, "order": 6, "mode": 0, "properties": {"text": ""}, "widgets_values": ["Refacing tips!\n\nChange the prompt as required, but remember to include the \"photomaker\" keyword.\n\nThe higher the IP Adapter weight, the more like the face the output\nwill be - including the style. Above 0.5 the style will change less.\n\nAs an example, try these other settings for IP Adapter!\n\n1.\nW:  0.35\nSA: 0.00\nEA: 0.85\n\n2.\nW:  0.80\nSA: 0.14\nEA: 0.42\n\n3.\nW:  0.65\nSA: 0.16\nEA: 0.62\n"], "color": "#222", "bgcolor": "#000", "shape": 1}, {"id": 2, "type": "PhotoMakerLoader", "pos": [10, 330], "size": {"0": 320, "1": 60}, "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "PHOTOMAKER", "type": "PHOTOMAKER", "links": [1], "shape": 3}], "properties": {"Node name for S&R": "PhotoMakerLoader"}, "widgets_values": ["photomaker-v1.bin"], "color": "#323", "bgcolor": "#535", "shape": 1}, {"id": 23, "type": "EmptyLatentImage", "pos": [530, 810], "size": {"0": 210, "1": 80}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "width", "type": "INT", "link": 75, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 76, "widget": {"name": "height"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [19], "shape": 3}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [1024, 1024, 1], "color": "#b068ab", "bgcolor": "#9c5497", "shape": 1}, {"id": 48, "type": "AutoCropFaces", "pos": [70, 810], "size": {"0": 210, "1": 154}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 126}], "outputs": [{"name": "face", "type": "IMAGE", "links": [127, 128, 129], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "AutoCropFaces"}, "widgets_values": [2, 2, 2, 0.5, 1], "color": "#628eb2", "bgcolor": "#4e7a9e", "shape": 1}, {"id": 19, "type": "CLIPTextEncode", "pos": [340, 590], "size": {"0": 400, "1": 160}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": null}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [16], "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["photo, bokeh, depth-of-field, photorealism, 3d render, hands."], "color": "#322", "bgcolor": "#533", "shape": 1}, {"id": 7, "type": "KSamplerAdvanced", "pos": [798.6942754067666, 362.4545371315698], "size": {"0": 310, "1": 334}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 95}, {"name": "positive", "type": "CONDITIONING", "link": 13}, {"name": "negative", "type": "CONDITIONING", "link": 16, "slot_index": 2}, {"name": "latent_image", "type": "LATENT", "link": 19, "slot_index": 3}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [6], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "KSamplerAdvanced"}, "widgets_values": ["enable", 944559004763363, "randomize", 12, 7, "ddim", "ddim_uniform", 0, 10000, "disable"], "color": "#223", "bgcolor": "#335", "shape": 1}, {"id": 14, "type": "IPAdapterAdvanced", "pos": [470, 1080], "size": {"0": 280, "1": 280}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": null, "slot_index": 0}, {"name": "ipadapter", "type": "IPADAPTER", "link": 9}, {"name": "image", "type": "IMAGE", "link": 10}, {"name": "image_negative", "type": "IMAGE", "link": null}, {"name": "attn_mask", "type": "MASK", "link": null}, {"name": "clip_vision", "type": "CLIP_VISION", "link": 11}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [95], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "IPAdapterAdvanced"}, "widgets_values": [0.35000000000000003, "linear", "concat", 0, 0.8, "K+V"], "color": "#8268b1", "bgcolor": "#6e549d", "shape": 1}, {"id": 18, "type": "TGateApplySimple", "pos": [710, 40], "size": {"0": 210, "1": 82}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 104}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [105], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "TGateApplySimple"}, "widgets_values": [0.5, false], "color": "#8268b1", "bgcolor": "#6e549d", "shape": 1}, {"id": 43, "type": "LoraLoaderModelOnly", "pos": [340, 40], "size": {"0": 360, "1": 82}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 103}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [104], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "LoraLoaderModelOnly"}, "widgets_values": ["Hyper-SDXL-12steps-CFG-lora.safetensors", 0.55], "color": "#323", "bgcolor": "#535", "shape": 1}, {"id": 38, "type": "SDXLAspectRatioSelector", "pos": [300, 810], "size": {"0": 210, "1": 100}, "flags": {}, "order": 9, "mode": 0, "outputs": [{"name": "ratio", "type": "STRING", "links": null, "shape": 3}, {"name": "width", "type": "INT", "links": [75], "shape": 3, "slot_index": 1}, {"name": "height", "type": "INT", "links": [76], "shape": 3, "slot_index": 2}], "properties": {"Node name for S&R": "SDXLAspectRatioSelector"}, "widgets_values": ["3:4"], "color": "#332922", "bgcolor": "#593930", "shape": 1}, {"id": 4, "type": "CheckpointLoaderSimple", "pos": [14.319553378174977, 34.428886308149714], "size": {"0": 315, "1": 98}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [103], "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [4], "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [], "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["SDXL\\aamXLAnimeMix_v10.safetensors"], "color": "#323", "bgcolor": "#535", "shape": 1}, {"id": 1, "type": "PhotoMakerEncode", "pos": [340, 330], "size": {"0": 400, "1": 200}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "photomaker", "type": "PHOTOMAKER", "link": 1, "slot_index": 0}, {"name": "image", "type": "IMAGE", "link": 128, "slot_index": 1}, {"name": "clip", "type": "CLIP", "link": null}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [13], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "PhotoMakerEncode"}, "widgets_values": ["Anime art style photomaker person, portrait"], "color": "#232", "bgcolor": "#353", "shape": 1}, {"id": 3, "type": "LoadImage", "pos": [10, 440], "size": [320, 310], "flags": {}, "order": 11, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [126], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["\u6587\u548f\u73ca1 (4).jpg", "image"], "color": "#628eb2", "bgcolor": "#4e7a9e", "shape": 1}], "links": [[1, 2, 0, 1, 0, "PHOTOMAKER"], [4, 4, 1, 6, 1, "CLIP"], [5, 5, 0, 6, 2, "VAE"], [6, 7, 0, 8, 0, "LATENT"], [9, 10, 0, 14, 1, "IPADAPTER"], [10, 13, 0, 14, 2, "IMAGE"], [11, 11, 0, 14, 5, "CLIP_VISION"], [13, 1, 0, 7, 1, "CONDITIONING"], [16, 19, 0, 7, 2, "CONDITIONING"], [19, 23, 0, 7, 3, "LATENT"], [25, 5, 0, 8, 1, "VAE"], [26, 4, 1, 1, 2, "CLIP"], [27, 4, 1, 19, 0, "CLIP"], [28, 4, 0, 14, 0, "MODEL"], [29, 5, 0, 8, 1, "VAE"], [30, 4, 1, 1, 2, "CLIP"], [31, 4, 1, 19, 0, "CLIP"], [32, 4, 0, 14, 0, "MODEL"], [33, 5, 0, 8, 1, "VAE"], [34, 4, 1, 1, 2, "CLIP"], [35, 4, 1, 19, 0, "CLIP"], [36, 4, 0, 14, 0, "MODEL"], [53, 5, 0, 8, 1, "VAE"], [54, 4, 1, 1, 2, "CLIP"], [55, 4, 1, 19, 0, "CLIP"], [56, 4, 0, 14, 0, "MODEL"], [57, 4, 1, 1, 2, "CLIP"], [58, 4, 1, 19, 0, "CLIP"], [59, 5, 0, 8, 1, "VAE"], [60, 4, 0, 14, 0, "MODEL"], [61, 5, 0, 8, 1, "VAE"], [62, 4, 0, 18, 0, "MODEL"], [63, 4, 1, 19, 0, "CLIP"], [64, 4, 1, 1, 2, "CLIP"], [67, 5, 0, 8, 1, "VAE"], [68, 4, 1, 1, 2, "CLIP"], [69, 4, 0, 14, 0, "MODEL"], [70, 4, 1, 19, 0, "CLIP"], [71, 5, 0, 8, 1, "VAE"], [72, 4, 1, 1, 2, "CLIP"], [73, 4, 0, 14, 0, "MODEL"], [74, 4, 1, 19, 0, "CLIP"], [75, 38, 1, 23, 0, "INT"], [76, 38, 2, 23, 1, "INT"], [83, 4, 0, 14, 0, "MODEL"], [84, 5, 0, 8, 1, "VAE"], [85, 4, 1, 19, 0, "CLIP"], [86, 4, 1, 1, 2, "CLIP"], [87, 4, 0, 14, 0, "MODEL"], [88, 5, 0, 8, 1, "VAE"], [89, 4, 1, 19, 0, "CLIP"], [90, 4, 1, 1, 2, "CLIP"], [95, 14, 0, 7, 0, "MODEL"], [96, 5, 0, 8, 1, "VAE"], [97, 4, 1, 19, 0, "CLIP"], [98, 4, 1, 1, 2, "CLIP"], [99, 43, 0, 14, 0, "MODEL"], [102, 35, 0, 6, 0, "MODEL"], [103, 4, 0, 43, 0, "MODEL"], [104, 43, 0, 18, 0, "MODEL"], [105, 18, 0, 35, 0, "MODEL"], [106, 5, 0, 8, 1, "VAE"], [107, 4, 1, 19, 0, "CLIP"], [108, 4, 1, 1, 2, "CLIP"], [109, 18, 0, 14, 0, "MODEL"], [110, 4, 1, 19, 0, "CLIP"], [111, 4, 1, 1, 2, "CLIP"], [112, 35, 0, 14, 0, "MODEL"], [113, 5, 0, 8, 1, "VAE"], [114, 4, 1, 19, 0, "CLIP"], [115, 5, 0, 8, 1, "VAE"], [116, 4, 1, 1, 2, "CLIP"], [117, 18, 0, 14, 0, "MODEL"], [118, 4, 1, 19, 0, "CLIP"], [119, 5, 0, 8, 1, "VAE"], [120, 4, 1, 1, 2, "CLIP"], [121, 35, 0, 14, 0, "MODEL"], [122, 4, 1, 19, 0, "CLIP"], [123, 5, 0, 8, 1, "VAE"], [124, 18, 0, 14, 0, "MODEL"], [125, 4, 1, 1, 2, "CLIP"], [126, 3, 0, 48, 0, "IMAGE"], [127, 48, 0, 49, 0, "IMAGE"], [128, 48, 0, 1, 1, "IMAGE"], [129, 48, 0, 13, 0, "IMAGE"], [130, 5, 0, 8, 1, "VAE"], [131, 4, 1, 1, 2, "CLIP"], [132, 4, 1, 19, 0, "CLIP"], [133, 18, 0, 14, 0, "MODEL"], [134, 8, 0, 50, 0, "IMAGE"], [135, 5, 0, 8, 1, "VAE"], [136, 18, 0, 14, 0, "MODEL"], [137, 4, 1, 19, 0, "CLIP"], [138, 4, 1, 1, 2, "CLIP"], [139, 5, 0, 8, 1, "VAE"], [140, 4, 1, 1, 2, "CLIP"], [141, 18, 0, 14, 0, "MODEL"], [142, 4, 1, 19, 0, "CLIP"], [143, 5, 0, 8, 1, "VAE"], [144, 4, 1, 1, 2, "CLIP"], [145, 18, 0, 14, 0, "MODEL"], [146, 4, 1, 19, 0, "CLIP"], [147, 5, 0, 8, 1, "VAE"], [148, 18, 0, 14, 0, "MODEL"], [149, 4, 1, 1, 2, "CLIP"], [150, 4, 1, 19, 0, "CLIP"], [151, 5, 0, 8, 1, "VAE"], [152, 4, 1, 1, 2, "CLIP"], [153, 4, 1, 19, 0, "CLIP"], [154, 18, 0, 14, 0, "MODEL"], [155, 5, 0, 8, 1, "VAE"], [156, 4, 1, 19, 0, "CLIP"], [157, 18, 0, 14, 0, "MODEL"], [158, 4, 1, 1, 2, "CLIP"]], "groups": [{"title": "Group", "bounding": [4, -39, 936, 286], "color": "#412958", "font_size": 24, "locked": false}, {"title": "Input", "bounding": [3, 260, 765, 729], "color": "#4e7a9e", "font_size": 24, "locked": false}, {"title": "IP Adapter Face", "bounding": [4, 1000, 764, 436], "color": "#b58b2a", "font_size": 24, "locked": false}, {"title": "Output", "bounding": [789, 280, 1319, 1130], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Slower", "bounding": [949, -39, 238, 286], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Load", "bounding": [1195, 2, 329, 218], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {"ds": {"scale": 0.40909090909091134, "offset": [694.501664477142, 195.17482044808023]}}, "version": 0.4}